\documentclass{standalone}

\usepackage{pgfplots}
\usepackage{csvsimple}
\usetikzlibrary{calc}
\usetikzlibrary{babel}
\usetikzlibrary{patterns}
\usepackage{geometry}
\geometry{margin=1in} 
\usepackage{pgfplotstable}
\usetikzlibrary{pgfplots.groupplots}

%http://latexcolor.com/
\definecolor{c1}{rgb}{0.75, 0.0, 0.2}
%\definecolor{c1}{rgb}{0.8, 0.33, 0.0}
%\definecolor{c1}{rgb}{0.8, 0.33, 0.0}
%\definecolor{c1}{rgb}{1.0, 0.44, 0.37}
\definecolor{c2}{rgb}{0.0, 0.72, 0.92}
\definecolor{c4}{rgb}{0.96, 0.73, 1.0}
\definecolor{c3}{rgb}{0.98, 0.81, 0.69}
\definecolor{c5}{rgb}{0.0, 0.44, 1.0}
\definecolor{c6}{rgb}{0.0, 0.42, 0.24}

\pgfplotscreateplotcyclelist{mylist}{
	{black},
	{red},
	{blue},
	{magenta},
	{brown},
	{teal},
	{orange},
	{violet}
}

\pgfplotsset{compat = 1.3}

\begin{document}
	
	\pgfplotstableread{csv/compiler-detection.csv}\data
	
	\tikzstyle{txt}=[font=\sffamily]
	\tikzstyle{stxt}=[font=\footnotesize\sffamily]
	
	%\pgfplotstabletranspose[
	%   colnames from=Code,
	%   input colnames to=Code]\speedup\data
	
	\begin{tikzpicture}
		\begin{axis}[
			symbolic x coords={c1,c2,c3,c4,c5,c6,c7,c8,Global},
			xticklabels={Naive,Naive p.,Unrrolled,Kernels,Blocked,Goto,Strassen,Intrinsics,\textbf{All}},
			xticklabel style={align=center},
			xtick={c1,c2,c3,c4,c5,c6,c7,c8,Global},
			ytick={0,20,40,60,80,100},
			ylabel=\% of matched codes,
			%xlabel=Category,
			ybar=0.0cm,
			ymin=0,
			ymax=110,    
			ylabel shift = -0.1cm,
			ylabel style={font=\sffamily},
			yticklabel style={font=\sffamily},     
			xlabel style={font=\sffamily},    
			xticklabel style={font=\sffamily}, 
			enlarge x limits={abs=1.0cm},
			%x=0.6cm,
			bar width=0.3cm,
			xtick style={draw=none}, %https://tex.stackexchange.com/questions/227647/remove-tick-marks-on-only-one-axis-in-pgfplots/227655
			%ymajorgrids=true,
			grid style={dashed,gray!25},
			%legend cell align={left},
			legend style={at={(0.20,1.1)},anchor=west,font=\sffamily\large},
			legend cell align={left},
			legend entries={IDL, KFR, FACC*, ATC, Proposed},
			legend columns=5,
			area legend,
			height=6cm,
			width=1.05\linewidth
			]
			\addplot[draw,preaction={fill, c4!70}, pattern=north east lines, draw=black, pattern color=c4!40] table[x=Category,y=IDL] {\data};  
			\addplot[draw,preaction={fill, c2!80}, pattern=north east lines, draw=black, pattern color=c2!50] table[x=Category,y=KFR] {\data};
			\addplot[draw,preaction={fill, c6!80}, pattern=north east lines, draw=black, pattern color=c6!50] table[x=Category,y=FACC] {\data};  
			\addplot[draw,preaction={fill, c3!70}, pattern=north east lines, draw=black, pattern color=c3!40] table[x=Category,y=ATC] {\data};
			\addplot[draw,preaction={fill, c1!70}, pattern=north east lines, draw=black, pattern color=c1!40] table[x=Category,y=Proposed] {\data};
			
			% c1
			\node[txt](text) at (-33.0,39.3) {4};
			\node[txt](text) at (-16.5,96.0) {11};
			\node[txt](text) at (0.00,13.7) {1};
			\node[txt](text) at (11.5,106.0) {12};  
			\node[txt](text) at (35.0,106.0) {12};
			\draw [dashed, line width=0.001cm] (50,0) -- (50,125);
			
			% c2
			\node[txt](text) at (66.5,5.0) {0};
			\node[txt](text) at (83,5.0) {0};
			\node[txt](text) at (99.5,66.0) {3};
			\node[txt](text) at (116,86.0) {4};  
			\node[txt](text) at (132.5,86.0) {3};
			\draw [dashed, line width=0.001cm] (150,0) -- (150,125);
			
			% c3  
			\node[txt](text) at (167.0,56.0) {2};
			\node[txt](text) at (183.5,5.0) {0};
			\node[txt](text) at (200, 31.0) {1};
			\node[txt](text) at (216.5,82.0) {3};  
			\node[txt](text) at (233,106.0) {4};
			\draw [dashed, line width=0.001cm] (250,0) -- (250,125);
			
			% c4
			\node[txt](text) at (267.5,5.0) {0};
			\node[txt](text) at (284,5.0) {0};
			\node[txt](text) at (300.5,5.0) {0};
			\node[txt](text) at (317,86.0) {4};  
			\node[txt](text) at (335.5,86.0) {4};
			\draw [dashed, line width=0.001cm] (350,0) -- (350,125);
			
			% c5
			\node[txt](text) at (368,5.0) {0};
			\node[txt](text) at (384.5,5.0) {0};
			\node[txt](text) at (401,30.0) {2};
			\node[txt](text) at (417.5,74.2) {6};    
			\node[txt](text) at (434,106.0) {9};
			\draw [dashed, line width=0.001cm] (350,0) -- (350,125); 
			
			% c6
			\node[txt](text) at (468.5,5.0) {0};
			\node[txt](text) at (485,5.0) {0};
			\node[txt](text) at (501.5,56.0) {1};
			\node[txt](text) at (518,56.0) {1};    
			\node[txt](text) at (534.5,106.0) {2};  
			\draw [dashed, line width=0.001cm] (450,0) -- (450,125);
			
			% c7
			\node[txt](text) at (567,5.0) {0};
			\node[txt](text) at (583.5,5.0) {0};
			\node[txt](text) at (600,73.0) {2};
			\node[txt](text) at (616.5,106.0) {3};    
			\node[txt](text) at (633,106.0) {3};   
			\draw [dashed, line width=0.001cm] (550,0) -- (550,125);
			
			% c8
			\node[txt](text) at (667.5,5.0) {0};
			\node[txt](text) at (684,5.0) {0};
			\node[txt](text) at (700.5,5.0) {0};
			\node[txt](text) at (717,96.0) {9};    
			\node[txt](text) at (733.5,76.0) {7}; 
			\draw [dashed, line width=0.001cm] (650,0) -- (650,125);
			
			% Global
			\node[stxt](text) at (767.5,17.0) {\textbf{6}};
			\node[stxt](text) at (784.0,30.0) {\textbf{11}};
			\node[stxt](text) at (800.5,24.0) {\textbf{10}};
			\node[stxt](text) at (817.0,90.0) {\textbf{42}};
			\node[stxt](text) at (833.5,97.0) {\textbf{45}}; 
			\draw [dashed, line width=0.001cm] (750,0) -- (750,125);
		\end{axis}
		
	\end{tikzpicture}
	
\end{document}